# Управление зависимостями

## Добавление

Вы можете добавить зависимость от другого сервиса с помощью команды:

``` bash
chill-cli add <адрес Git-репозитория> [версия]
```

!!! note "Заметка"

    По умолчанию будет добавлена зависимость от последней мажорной версии production-стадии. Если необходимо иное, укажите версию явно.

После этого вызовите `chill-cli sync`, чтобы сгенерировать клиент для этого сервиса.

!!! note "Заметка"

    Используйте флаг `--allow-incompatible` при запуске `chill-cli sync`, если хотите разрешить циклические зависимости и зависимости от несовместимых версий.

## Привязка 

Адрес зависимых сервисов привязывается системой автоматически с помощью переменных среды, **не нужно вносить его в код вручную!**

Название переменной можно получить с помощью `chill-cli service-env <имя-сервиса>`.

В дальнейшем в коде доступ можно получить так:

=== "Go"

    ``` go
    import (
        "os"
    )
    // ...
    os.Getenv("CHILL_SERVICE_NAME")
    ```

=== "Python"

    ``` python
    import os
    # ...
    os.environ['CHILL_SERVICE_NAME']
    ```

=== "Kotlin"

    ``` kotlin
    System.getenv("CHILL_SERVICE_NAME")
    ```

=== "Dart"

    ```dart
    import 'dart:io' show Platform;
    // ...
    Platform.environment["CHILL_SERVICE_NAME"];
    ```

Этот адрес можно использовать для инициализации сгенерированного через `chill-cli sync` gRPC-клиента. 